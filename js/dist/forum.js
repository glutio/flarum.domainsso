(()=>{var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{"use strict";e.r(t);const o=flarum.core.compat.extend,n=flarum.core.compat["components/HeaderSecondary"];var r=e.n(n);const a=flarum.core.compat["components/SettingsPage"];var c=e.n(a);const i=flarum.core.compat["components/UserPage"];var l=e.n(i);const u=flarum.core.compat["components/AvatarEditor"];var s=e.n(u);const m=flarum.core.compat["components/LogInModal"];var p=e.n(m),d="glutio-domainsso",f=0,g=void 0;app.initializers.add(d,(function(e){(0,o.extend)(r().prototype,"items",(function(t){if(t.has("signUp")&&t.remove("signUp"),t.has("logIn")){var n,r,a,i=null!=(n=e.forum.attribute(d+".url"))?n:"",u=null!=(r=e.forum.attribute(d+".login"))?r:"",m=null!=(a=e.forum.attribute(d+".redirect"))?a:"",v=i+u+(m=m?"?"+m+"="+encodeURIComponent(window.location):"");if(v){var y=t.get("logIn"),b=y.attrs.onclick;y.attrs.onclick=function(){f++,console.log("clicks ",f),1==f?g=setTimeout((function(){1==f&&(window.location.href=v)}),300):f>1&&(clearTimeout(g),f=0,b.call(y))}}}(0,o.extend)(p().prototype,"title",(function(t){t[0]="Admin "+e.translator.trans("core.forum.log_in.title")})),(0,o.extend)(p().prototype,"content",(function(e){e.length>1&&e.pop()})),(0,o.extend)(p().prototype,"fields",(function(e){e.has("remember")&&e.remove("remember")})),(0,o.extend)(c().prototype,"settingsItems",(function(e){e.has("account")&&e.remove("account")})),(0,o.extend)(l().prototype,"navItems",(function(e){e.has("security")&&e.remove("security")})),(0,o.extend)(s().prototype,"view",(function(e){e.children=[e.children[0]]}))}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map